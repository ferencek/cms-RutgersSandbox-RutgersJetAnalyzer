#include <iostream>
#include "TROOT.h"
#include "TStyle.h"
#include "TFile.h"
#include "TCanvas.h"
#include "TH1D.h"
#include "TH2D.h"
#include "TProfile.h"
#include "TGraph.h"
#include "TF1.h"
#include "TLine.h"
#include "TLatex.h"
#include "TLegend.h"
#include "exoStyle.C"


using namespace std;


void plot1D(const string& fInputFile, const string& fPlot, const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
            const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const string& fOutputFile,
            const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0, const Double_t fLeftMargin=0.16, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat("nemruoi");
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  gStyle->SetStatX(fLeftMargin+fPlotWidth);
  gStyle->SetStatY(1.-fTopMargin);
  gStyle->SetStatH(0.25);
  gStyle->SetStatW(0.25);
  gROOT->ForceStyle();

  TFile *file = new TFile(fInputFile.c_str());

  TH1D *h1_plot = (TH1D*)file->Get(fPlot.c_str());

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  h1_plot->Rebin(fRebinX);
  h1_plot->GetXaxis()->SetRangeUser(fXmin,fXmax);
  h1_plot->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  h1_plot->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  h1_plot->SetTitleOffset(fTitleOffsetX,"X");
  h1_plot->SetTitleOffset(fTitleOffsetY,"Y");
  h1_plot->SetLineColor(kBlue+2);

  h1_plot->Draw("hists");

  TLatex l1;
  l1.SetTextAlign(12);
  l1.SetTextFont(42);
  l1.SetTextSize(0.05);
  l1.SetNDC();
  l1.DrawLatex(fLeftMargin,0.97, fTitle.c_str());

  c->SaveAs(fOutputFile.c_str());

  delete c;
  delete file;
}

void plot1D_profile(const string& fInputFile, const string& fPlot, const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
                    const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const string& fOutputFile,
                    const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0, const Double_t fLeftMargin=0.10, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat("nemruoi");
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  gStyle->SetStatX(fLeftMargin+fPlotWidth);
  gStyle->SetStatY(1.-fTopMargin);
  gStyle->SetStatH(0.25);
  gStyle->SetStatW(0.25);
  gStyle->SetOptStat(0);
  gROOT->ForceStyle();

  TFile *file = new TFile(fInputFile.c_str());

  TProfile *h1_plot = (TProfile*)file->Get(fPlot.c_str());

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  //h1_plot->Rebin(fRebinX);
  h1_plot->GetXaxis()->SetRangeUser(fXmin,fXmax);
  h1_plot->GetYaxis()->SetRangeUser(0.,1.);
  h1_plot->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  h1_plot->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  h1_plot->SetTitleOffset(fTitleOffsetX,"X");
  h1_plot->SetTitleOffset(fTitleOffsetY,"Y");
  h1_plot->SetLineColor(kBlue+2);

  h1_plot->Draw();

  // only for Average_fraction_shared_tracks_vs_dRsubjets plots
//   if(fOutputFile.find("Average_fraction_shared_tracks_vs_dRsubjets")!=string::npos)
//   {
//     TF1 *f1 = new TF1("f1","(-(1/2)*TMath::Sqrt((2-x/0.3)*(x/0.3*x/0.3)*(2+x/0.3))+2*TMath::ACos(x/0.3/2))/(2*TMath::Pi()-(-(1/2)*TMath::Sqrt((2-x/0.3)*(x/0.3*x/0.3)*(2+x/0.3))+2*TMath::ACos(x/0.3/2)))",0,0.6);
//     f1->SetLineColor(kRed);
//     f1->SetLineWidth(2);
//     f1->Draw("same");
//   }

  TLatex l1;
  l1.SetTextAlign(13);
  l1.SetTextFont(42);
  l1.SetTextSize(0.045);
  l1.SetNDC();
  l1.DrawLatex(fLeftMargin+0.03,0.90, fTitle.c_str());

  l1.SetTextAlign(13);
  l1.SetTextSize(0.05);
  l1.SetTextFont(62);
  l1.DrawLatex(fLeftMargin,0.99, "CMS Simulation Preliminary, #sqrt{s} = 8 TeV");

  c->SaveAs(fOutputFile.c_str());

  delete c;
  delete file;
}


void plot2D(const string& fInputFile, const string& fPlot, const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
            const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const Int_t fRebinY, const Double_t fYmin, const Double_t fYmax,
            const string& fOutputFile, const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0,
            const Double_t fLeftMargin=0.16, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetGridColor(kGray+3);
  gStyle->SetPalette(1);
  gStyle->SetOptStat("nemruoi");
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  gStyle->SetStatX(fLeftMargin+fPlotWidth);
  gStyle->SetStatY(1.-fTopMargin);
  gStyle->SetStatH(0.25);
  gStyle->SetStatW(0.25);
  gStyle->SetOptStat(0);
  gROOT->ForceStyle();

  TFile *file = new TFile(fInputFile.c_str());

  TH2D *h2_plot = (TH2D*)file->Get(fPlot.c_str());

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();
  c->SetGridx();
  c->SetGridy();

  h2_plot->Rebin2D(fRebinX,fRebinY);
  h2_plot->GetXaxis()->SetRangeUser(fXmin,fXmax);
  h2_plot->GetYaxis()->SetRangeUser(fYmin,fYmax);
  h2_plot->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  h2_plot->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  h2_plot->SetTitleOffset(fTitleOffsetX,"X");
  h2_plot->SetTitleOffset(fTitleOffsetY,"Y");
  h2_plot->SetLineColor(kBlue+2);

  h2_plot->Draw("colz");

  TLatex l1;
  l1.SetTextAlign(13);
  l1.SetTextFont(42);
  l1.SetTextSize(0.05);
  l1.SetNDC();
  l1.DrawLatex(fLeftMargin+0.03,0.90, fTitle.c_str());

  l1.SetTextAlign(12);
  l1.SetTextSize(0.05);
  l1.SetTextFont(62);
  l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation Preliminary, #sqrt{s} = 8 TeV");
  //l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation");
  //l1.SetTextFont(42);
  //l1.DrawLatex(fLeftMargin+0.35,0.97, "#sqrt{s} = 8 TeV");

  c->SetLogz();
  c->SaveAs(fOutputFile.c_str());

  delete c;
  delete file;
}

void overlay1D_Xbinrange_Yprojection(const string& fInputFileS, const string& fInputFileB, const string& fPlot,
               const Int_t fPVLow, const Int_t fPVHigh, const Int_t fRebinX, const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
               const string& fLeg1, const string& fLeg2, const string& fOutputFile,
               const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0,
               const Double_t fLeftMargin=0.12, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat(0);
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  //gStyle->UseCurrentStyle();
  gROOT->ForceStyle();

  TFile *file_S = new TFile(fInputFileS.c_str());
  TFile *file_B = new TFile(fInputFileB.c_str());

  TH2D *h2_S = (TH2D*)file_S->Get(fPlot.c_str());
  TH1D *h1_S = h2_S->ProjectionY("_py1",fPVLow,fPVHigh);
  TH2D *h2_B = (TH2D*)file_B->Get(fPlot.c_str());
  TH1D *h1_B = h2_B->ProjectionY("_py2",fPVLow,fPVHigh);

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  TH2D *bkg = new TH2D("bkg", "bkg", 100, 0, 1, 100, 0., 0.08);
  bkg->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  bkg->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  bkg->SetTitleOffset(fTitleOffsetX,"X");
  bkg->SetTitleOffset(fTitleOffsetY,"Y");
  bkg->Draw();

  h1_S->Rebin(fRebinX);
  h1_S->SetLineColor(kBlue+2);

  h1_B->Rebin(fRebinX);
  h1_B->SetLineColor(kRed);

  h1_S->Scale(1./h1_S->Integral());
  h1_B->Scale(1./h1_B->Integral());

  h1_S->Draw("histsame");
  h1_B->Draw("histsame");

  TLegend *legend = new TLegend(.65,.65,.95,.85);
  legend->SetBorderSize(0);
  legend->SetFillColor(0);
  legend->SetFillStyle(0);
  legend->SetTextFont(42);
  legend->SetTextSize(0.04);
  legend->AddEntry(h1_S, fLeg1.c_str(),"l");
  legend->AddEntry(h1_B, fLeg2.c_str(),"l");
  legend->Draw();

  TLatex l1;
  l1.SetTextAlign(12);
  l1.SetTextFont(42);
  l1.SetNDC();
  l1.SetTextSize(0.04);
  l1.DrawLatex(fLeftMargin,0.96, fTitle.c_str());

  c->SaveAs(fOutputFile.c_str());

  delete legend;
  delete c;
  delete file_S;
  delete file_B;
}


void overlay1D_Xrange_Yprojection(const string& fInputFile1, const string& fInputFile2, const string& fPlot1, const string& fPlot2,
                                  const Int_t fXMin1, const Int_t fXMax1, const Int_t fXMin2, const Int_t fXMax2,
                                  const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const Double_t fYmin, const Double_t fYmax,
                                  const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
                                  const string& fLeg1, const string& fLeg2, const string& fOutputFile, const Int_t fLogy=0,
                                  const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0,
                                  const Double_t fLeftMargin=0.12, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat(0);
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  //gStyle->UseCurrentStyle();
  gROOT->ForceStyle();

  TFile *file1 = new TFile(fInputFile1.c_str());
  TFile *file2 = new TFile(fInputFile2.c_str());

  TH2D *h2_1 = (TH2D*)file1->Get(fPlot1.c_str());
  TH1D *h1_1 = h2_1->ProjectionY("_py1",h2_1->GetXaxis()->FindBin(fXMin1),h2_1->GetXaxis()->FindBin(fXMax1));
  TH2D *h2_2 = (TH2D*)file2->Get(fPlot2.c_str());
  TH1D *h1_2 = h2_2->ProjectionY("_py2",h2_2->GetXaxis()->FindBin(fXMin2),h2_2->GetXaxis()->FindBin(fXMax2));

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  TH2D *bkg = new TH2D("bkg", "bkg", 100, fXmin, fXmax, 100, fYmin, fYmax);
  bkg->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  bkg->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  bkg->SetTitleOffset(fTitleOffsetX,"X");
  bkg->SetTitleOffset(fTitleOffsetY,"Y");
  bkg->Draw();

  h1_1->Rebin(fRebinX);
  h1_1->SetLineWidth(2);
  h1_1->SetLineColor(kBlue+2);

  h1_2->Rebin(fRebinX);
  h1_2->SetLineWidth(2);
  h1_2->SetLineColor(kRed);
  h1_2->SetLineStyle(2);

  h1_1->Scale(1./h1_1->Integral());
  h1_2->Scale(1./h1_2->Integral());

  h1_1->Draw("histsame");
  h1_2->Draw("histsame");

  TLegend *legend = new TLegend(.4,.65,.9,.85);
  legend->SetBorderSize(0);
  legend->SetFillColor(0);
  legend->SetFillStyle(0);
  legend->SetTextFont(42);
  legend->SetTextSize(0.04);
  legend->AddEntry(h1_1, fLeg1.c_str(),"l");
  legend->AddEntry(h1_2, fLeg2.c_str(),"l");
  legend->Draw();

  TLatex l1;
  l1.SetTextAlign(12);
  l1.SetTextFont(42);
  l1.SetNDC();
  l1.SetTextSize(0.04);
  l1.DrawLatex(fLeftMargin-0.05,0.96, fTitle.c_str());

  if(fLogy) c->SetLogy();
  c->SaveAs(fOutputFile.c_str());

  delete legend;
  delete c;
  delete file1;
  delete file2;
}


void overlay1D_2_Xrange_Yprojection(const string& fInputFile1, const string& fInputFile2, const string& fPlot1, const string& fPlot2,
                                  const Int_t fXMin1, const Int_t fXMax1, const Int_t fXMin2, const Int_t fXMax2,
                                  const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const Double_t fYmin, const Double_t fYmax,
                                  const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
                                  const string& fLeg1, const string& fLeg2, const string& fOutputFile, const Int_t fLogy=0,
                                  const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0,
                                  const Double_t fLeftMargin=0.12, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat(0);
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  //gStyle->UseCurrentStyle();
  gROOT->ForceStyle();

  TFile *file1 = new TFile(fInputFile1.c_str());
  TFile *file2 = new TFile(fInputFile2.c_str());

  TH2D *h2_1 = (TH2D*)file1->Get(fPlot1.c_str());
  TH1D *h1_1 = h2_1->ProjectionY("_py1",h2_1->GetXaxis()->FindBin(fXMin1),h2_1->GetXaxis()->FindBin(fXMax1));
  TH2D *h2_2 = (TH2D*)file2->Get(fPlot2.c_str());
  TH1D *h1_2 = h2_2->ProjectionY("_py2",h2_2->GetXaxis()->FindBin(fXMin2),h2_2->GetXaxis()->FindBin(fXMax2));

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  TH2D *bkg = new TH2D("bkg", "bkg", 2, fXmin, fXmax, 100, fYmin, fYmax);
  bkg->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  bkg->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  bkg->SetTitleOffset(fTitleOffsetX,"X");
  bkg->SetTitleOffset(fTitleOffsetY,"Y");
  bkg->GetXaxis()->SetBinLabel(1,"No");
  bkg->GetXaxis()->SetBinLabel(2,"Yes");
  bkg->Draw();

  h1_1->Rebin(fRebinX);
  h1_1->SetLineWidth(2);
  h1_1->SetLineColor(kBlue+2);

  h1_2->Rebin(fRebinX);
  h1_2->SetLineWidth(2);
  h1_2->SetLineColor(kRed);
  h1_2->SetLineStyle(2);

  h1_1->Scale(1./h1_1->Integral(0,h1_1->GetNbinsX()+1));
  h1_2->Scale(1./h1_2->Integral(0,h1_2->GetNbinsX()+1));

  h1_1->Draw("histsame");
  h1_2->Draw("histsame");

  TLegend *legend = new TLegend(.4,.55,.9,.75);
  legend->SetBorderSize(0);
  legend->SetFillColor(0);
  legend->SetFillStyle(0);
  legend->SetTextFont(42);
  legend->SetTextSize(0.04);
  legend->AddEntry(h1_1, fLeg1.c_str(),"l");
  legend->AddEntry(h1_2, fLeg2.c_str(),"l");
  legend->Draw();

  TLatex l1;
  l1.SetTextAlign(13);
  l1.SetTextFont(42);
  l1.SetNDC();
  l1.SetTextSize(0.045);
  l1.DrawLatex(fLeftMargin+0.03,0.90, fTitle.c_str());

  l1.SetTextAlign(12);
  l1.SetTextSize(0.05);
  l1.SetTextFont(62);
  l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation Preliminary, #sqrt{s} = 8 TeV");
  //l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation");
  //l1.SetTextFont(42);
  //l1.DrawLatex(fLeftMargin+0.35,0.97, "#sqrt{s} = 8 TeV");

  if(fLogy) c->SetLogy();
  c->SaveAs(fOutputFile.c_str());

  delete legend;
  delete c;
  delete file1;
  delete file2;
}


void overlay1D_3_Xrange_Yprojection(const string& fInputFile1, const string& fInputFile2, const string& fInputFile3, const string& fPlot1, const string& fPlot2, const string& fPlot3,
                                    const Int_t fXMin1, const Int_t fXMax1, const Int_t fXMin2, const Int_t fXMax2, const Int_t fXMin3, const Int_t fXMax3,
                                    const Int_t fRebinX, const Double_t fXmin, const Double_t fXmax, const Double_t fYmin, const Double_t fYmax,
                                    const string& fTitle, const string& fXAxisTitle, const string& fYAxisTitle,
                                    const string& fLeg1, const string& fLeg2, const string& fLeg3, const string& fOutputFile, const Int_t fLogy=0,
                                    const Double_t fTitleOffsetX=1.0, const Double_t fTitleOffsetY=1.0,
                                    const Double_t fLeftMargin=0.12, const Double_t fTopMargin=0.07, const Double_t fPlotWidth=0.8)
{
  gROOT->SetBatch(kTRUE);
  setEXOStyle();
  gStyle->SetOptStat(0);
  gStyle->SetPadTopMargin(fTopMargin);
  gStyle->SetPadBottomMargin(1.-fTopMargin-fPlotWidth);
  gStyle->SetPadLeftMargin(fLeftMargin);
  gStyle->SetPadRightMargin(1.-fLeftMargin-fPlotWidth);
  //gStyle->UseCurrentStyle();
  gROOT->ForceStyle();

  TFile *file1 = new TFile(fInputFile1.c_str());
  TFile *file2 = new TFile(fInputFile2.c_str());
  TFile *file3 = new TFile(fInputFile3.c_str());

  TH2D *h2_1 = (TH2D*)file1->Get(fPlot1.c_str());
  TH1D *h1_1 = h2_1->ProjectionY("_py1",h2_1->GetXaxis()->FindBin(fXMin1),h2_1->GetXaxis()->FindBin(fXMax1));
  TH2D *h2_2 = (TH2D*)file2->Get(fPlot2.c_str());
  TH1D *h1_2 = h2_2->ProjectionY("_py2",h2_2->GetXaxis()->FindBin(fXMin2),h2_2->GetXaxis()->FindBin(fXMax2));
  TH2D *h2_3 = (TH2D*)file3->Get(fPlot3.c_str());
  TH1D *h1_3 = h2_3->ProjectionY("_py3",h2_3->GetXaxis()->FindBin(fXMin3),h2_3->GetXaxis()->FindBin(fXMax3));

  TCanvas *c = new TCanvas("c", "",1000,800);
  c->cd();

  TH2D *bkg = new TH2D("bkg", "bkg", 100, fXmin, fXmax, 100, fYmin, fYmax);
  bkg->GetXaxis()->SetTitle(fXAxisTitle.c_str());
  bkg->GetYaxis()->SetTitle(fYAxisTitle.c_str());
  bkg->SetTitleOffset(fTitleOffsetX,"X");
  bkg->SetTitleOffset(fTitleOffsetY,"Y");
  bkg->Draw();

  h1_1->Rebin(fRebinX);
  h1_1->SetLineWidth(2);
  h1_1->SetLineColor(kGreen+2);

  h1_2->Rebin(fRebinX);
  h1_2->SetLineWidth(2);
  h1_2->SetLineColor(kRed);
  h1_2->SetLineStyle(2);

  h1_3->Rebin(fRebinX);
  h1_3->SetLineWidth(2);
  h1_3->SetLineColor(kBlue+2);
  h1_3->SetLineStyle(3);

  h1_1->Scale(1./h1_1->Integral(0,h1_1->GetNbinsX()+1));
  h1_2->Scale(1./h1_2->Integral(0,h1_2->GetNbinsX()+1));
  h1_3->Scale(1./h1_3->Integral(0,h1_3->GetNbinsX()+1));

  h1_1->Draw("histsame");
  h1_2->Draw("histsame");
  h1_3->Draw("histsame");

  TLegend *legend = new TLegend(.4,.5,.9,.7);
  legend->SetBorderSize(0);
  legend->SetFillColor(0);
  legend->SetFillStyle(0);
  legend->SetTextFont(42);
  legend->SetTextSize(0.04);
  legend->AddEntry(h1_1, fLeg1.c_str(),"l");
  legend->AddEntry(h1_2, fLeg2.c_str(),"l");
  legend->AddEntry(h1_3, fLeg3.c_str(),"l");
  legend->Draw();

  TLatex l1;
  l1.SetTextAlign(13);
  l1.SetTextFont(42);
  l1.SetNDC();
  l1.SetTextSize(0.045);
  l1.DrawLatex(fLeftMargin+0.04,0.90, fTitle.c_str());

  l1.SetTextAlign(12);
  l1.SetTextSize(0.05);
  l1.SetTextFont(62);
  l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation Preliminary, #sqrt{s} = 8 TeV");
  //l1.DrawLatex(fLeftMargin,0.97, "CMS Simulation");
  //l1.SetTextFont(42);
  //l1.DrawLatex(fLeftMargin+0.35,0.97, "#sqrt{s} = 8 TeV");

  if(fLogy) c->SetLogy();
  c->SaveAs(fOutputFile.c_str());

  delete legend;
  delete c;
  delete file1;
  delete file2;
}


void makePlots()
{
  //--------------------------------------------------------------------------------------------------------------------
  // Higgs tagging
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_nPV", "",
//          "Primary Vertex Multiplicity", "Events", 1, 0, 50, "nPV_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonPt", "H#rightarrowanything",
//          "Higgs true p_{T} [GeV]", "Entries", 10, 0, 1000, "Pt_Higgs_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonEta", "H#rightarrowanything",
//          "Higgs true #eta", "Entries", 1, -4, 4, "eta_Higgs_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonPt_Isolated", "H#rightarrowanything, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true p_{T} [GeV]", "Entries", 10, 0, 1000, "Pt_Higgs_Isolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonEta_Isolated", "H#rightarrowanything, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true #eta", "Entries", 1, -4, 4, "eta_Higgs_Isolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonPt_DecaySel", "H#rightarrowb#bar{b}, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true p_{T} [GeV]", "Entries", 10, 0, 1000, "Pt_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);
//
//   plot1D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h1_BosonEta_DecaySel", "H#rightarrowb#bar{b}, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true #eta", "Entries", 1, -4, 4, "eta_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 1.3);

//   plot1D_profile("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron_CA8only.root", "jetAnalyzerCAPrunedJetMass/p1_JetPt_SharedTracksRatio_BosonMatched_JetMass", "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                  "Fat jet p_{T} [GeV/c]", "Average fraction of shared tracks", 1, 0., 1000., "Average_fraction_shared_tracks_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-1500.eps", 1., 0.9, 0.12);
// 
//   plot1D_profile("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRBhadron_CA8andAK5.root", "jetAnalyzerCAPrunedJetMass/p1_dRsubjets_SharedTracksRatio_BosonMatched_JetMass", "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                  "#DeltaR(subjets)", "Average fraction of shared tracks", 1, 0., 0.8, "Average_fraction_shared_tracks_vs_dRsubjets_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-1500.eps", 1., 0.9, 0.12);
// 
//   plot1D_profile("output_files_v2/BprimeBprimeToBZBZinc_M-1200_HiggsTagging_dRBhadron_LightFlavor_CA8andAK5.root", "jetAnalyzerCAPrunedJetMass/p1_dRsubjets_SharedTracksRatio_BosonMatched_JetMass", "#splitline{Z#rightarrowq#bar{q} (q=u,d,s), CA R=0.8}{75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                  "#DeltaR(subjets)", "Average fraction of shared tracks", 1, 0., 0.8, "Average_fraction_shared_tracks_vs_dRsubjets_ZToQQbarLight_BprimeBprimeToBZBZinc_M-1200.eps", 1., 0.9, 0.12);
// 
//   plot1D_profile("output_files_v2/QCDPythia6_HiggsTagging_dRBhadron_jetFlavor_CA8andAK5.root", "jetAnalyzerCAPrunedJetMass/p1_dRsubjets_SharedTracksRatio_BosonMatched_JetMass", "#splitline{QCD, CA R=0.8}{75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                  "#DeltaR(subjets)", "Average fraction of shared tracks", 1, 0., 0.8, "Average_fraction_shared_tracks_vs_dRsubjets_QCD.eps", 1., 0.9, 0.12);


//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "jetAnalyzerTrimmedJetMass/h2_BosonPt_dRdecay", "H#rightarrowb#bar{b}, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true p_{T} [GeV]", "#DeltaR(b,#bar{b})", 10, 0, 1000, 1, 0, 5, "Pt_HiggsToBBbar_Isolated_dRdecay_BprimeBprimeToBHBHinc_M-800.eps", 1., 0.9, 0.11, 0.07, 0.77);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_BosonPt_dRdecay", "H(120)#rightarrowb#bar{b}",
//          "Higgs true p_{T} [GeV/c]", "#DeltaR(b,#bar{b})", 2, 0, 1000, 1, 0, 5, "Pt_HiggsToBBbar_Isolated_dRdecay_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.11, 0.07, 0.77);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_BosonPt_dRdecay", "H#rightarrowb#bar{b}, #DeltaR(H,other b' decay products)>0.8",
//          "Higgs true p_{T} [GeV]", "#DeltaR(b,#bar{b})", 2, 0, 1000, 1, 0, 5, "Pt_HiggsToBBbar_Isolated_dRdecay_BprimeBprimeToBHBHinc_M-1500.eps", 1., 0.9, 0.11, 0.07, 0.77);

//   plot2D("output_files_v2/RadionToHHTo4B_M-1000_HiggsTagging_dRsubjetBhadron_JetMass75to140_CA8only.root", "jetAnalyzerCAPrunedJetMass/h2_BosonPt_dRdecay", "H(125)#rightarrowb#bar{b}",
//          "Higgs true p_{T} [GeV/c]", "#DeltaR(b,#bar{b})", 2, 0, 1000, 1, 0, 5, "Pt_HiggsToBBbar_dRdecay_RadionToHHTo4B_M-1000.eps", 1., 0.9, 0.11, 0.07, 0.77);


//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging_NonIsolatedBosons_TrimmedJetMass.root", "jetAnalyzerTrimmedJetMass/h2_JetPt_JetPtOverBosonPt", "H#rightarrowb#bar{b} (non-isolated), AK R=0.8, #DeltaR(H,jet)<0.5",
//          "p_{T}^{jet} [GeV]", "p_{T}^{jet}/p_{T}^{boson}", 10, 300, 1000, 2, 0, 2, "JetPt_JetPtOverBosonPt_HiggsToBBbar_NonIsolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 0.9, 0.12, 0.07, 0.76);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_JetPtOverBosonPt", "#splitline{H(120)#rightarrowb#bar{b} (isolated), CA R=0.8}{#DeltaR(H,jet)<0.5}",
//          "Fat jet p_{T} [GeV/c]", "p_{T}^{jet}/p_{T}^{boson}", 2, 300, 1000, 1, 0, 2, "JetPt_JetPtOverBosonPt_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.12, 0.07, 0.76);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging_NonIsolatedBosons_TrimmedJetMass.root", "jetAnalyzerTrimmedJetMass/h2_JetPt_JetPtOverGenJetPt_BosonMatched", "H#rightarrowb#bar{b} (non-isolated), AK R=0.8, #DeltaR(H,jet)<0.5",
//          "p_{T}^{jet} [GeV]", "p_{T}^{jet}/p_{T}^{genjet}", 10, 300, 1000, 2, 0, 2, "JetPt_JetPtOverGenJetPt_HiggsToBBbar_NonIsolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 0.9, 0.12, 0.07, 0.76);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_JetPtOverGenJetPt_BosonMatched", "H#rightarrowb#bar{b} (isolated), CA R=0.8, #DeltaR(H,jet)<0.5",
//          "p_{T}^{jet} [GeV]", "p_{T}^{jet}/p_{T}^{genjet}", 2, 300, 1000, 1, 0, 2, "JetPt_JetPtOverGenJetPt_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.12, 0.07, 0.76);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging_NonIsolatedBosons_TrimmedJetMass.root", "jetAnalyzerTrimmedJetMass/h2_JetPt_JetMass_BosonMatched", "H#rightarrowb#bar{b} (non-isolated), AK R=0.8, #DeltaR(H,jet)<0.5",
//          "p_{T}^{jet} [GeV]", "m_{jet} (trimmed) [GeV]", 10, 300, 1000, 4, 0, 400, "JetPt_JetMass_HiggsToBBbar_NonIsolated_BprimeBprimeToBHBHinc_M-800.eps", 1., 0.9, 0.12, 0.07, 0.76);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_JetMass_BosonMatched", "#splitline{H(120)#rightarrowb#bar{b} (isolated), CA R=0.8}{#DeltaR(H,jet)<0.5}",
//          "Fat jet p_{T} [GeV/c]", "m_{jet} (pruned) [GeV/c^{2}]", 2, 300, 1000, 2, 0, 400, "JetPt_JetMass_HiggsToBBbar_Isolated_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.12, 0.07, 0.76);
// 
//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_dRsubjets_BosonMatched", "#splitline{H(120)#rightarrowb#bar{b} (isolated), CA R=0.8}{#DeltaR(H,jet)<0.5}",
//          "Fat jet p_{T} [GeV/c]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_BoostedH_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.11, 0.07, 0.77);
// 
//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_dRsubjets_BosonMatched_JetMass", "#splitline{H(120)#rightarrowb#bar{b} (isolated), CA R=0.8}{#DeltaR(H,jet)<0.5, 75<m_{jet}<135 GeV/c^{2} (pruned)}",
//          "Fat jet p_{T} [GeV/c]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_BoostedH_JetMass_BprimeBprimeToBHBHinc_M-1000.eps", 1., 0.9, 0.11, 0.07, 0.77);

//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_dRsubjets_BosonMatched", "CA R=0.8, #DeltaR(H,jet)<0.5",
//          "Jet p_{T} [GeV]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_BoostedH_BprimeBprimeToBHBHinc_M-1500.eps", 1., 0.9, 0.11, 0.07, 0.77);
//
//   plot2D("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "jetAnalyzerCAPrunedJetMass/h2_JetPt_dRsubjets_BosonMatched_JetMass", "CA R=0.8, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)",
//          "Jet p_{T} [GeV]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_BoostedH_JetMass_BprimeBprimeToBHBHinc_M-1500.eps", 1., 0.9, 0.11, 0.07, 0.77);

//   plot2D("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_dRsubjets_BosonMatched", "QCD g#rightarrowb#bar{b}, CA R=0.8",
//          "Fat jet p_{T} [GeV/c]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_QCD_bGSP.eps", 1., 0.9, 0.11, 0.07, 0.77);
// 
//   plot2D("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_dRsubjets_BosonMatched_JetMass", "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8}{75<m_{jet}<135 GeV/c^{2} (pruned)}",
//          "Fat jet p_{T} [GeV/c]", "#DeltaR(subjets)", 2, 0, 1000, 1, 0, 5, "JetPt_dRsubjets_CA8pruned_QCD_bGSP_JetMass.eps", 1., 0.9, 0.11, 0.07, 0.77);

//
//   overlay1D_Xbinrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "output_files_v2/QCDPythia6_HiggsTagging.root",
//             "jetAnalyzerCAPrunedJets/h2_nPV_MassDrop_Pt300toInf", 0, 52, 2,
//             "CA R=0.8 pruned, p_{T}>300 GeV, 75<m<135 GeV", "#mu=m_{subjet1}/m_{jet}", "Entries", "Boosted H", "QCD",
//             "Mass_drop_BoostedH_QCD_Pt300toInf.eps", 0.9);
//
//   overlay1D_Xbinrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-800_HiggsTagging.root", "output_files_v2/QCDPythia6_HiggsTagging.root",
//             "jetAnalyzerTrimmedJetMass/h2_nPV_tau2tau1_Pt300toInf", 0, 52, 2,
//             "AK R=0.8, p_{T}>300 GeV, 75<m<135 GeV (trimmed)", "#tau_{2}/#tau_{1}", "Entries", "Boosted H", "QCD",
//             "tau2tau1_BoostedH_QCD_Pt300toInf.eps", 0.9);

//   // min dR(subjet,Bhadron)
//   // CA pruned subjets
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, pruned subjets", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet1Bhadron_CA8pruned_BoostedH_Pt300to500_JetMassCut.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, pruned subjets", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet2Bhadron_CA8pruned_BoostedH_Pt300to500_JetMassCut.eps", 0,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, pruned subjets", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet1Bhadron_CA8pruned_BoostedH_Pt700toInf_JetMassCut.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, pruned subjets", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet2Bhadron_CA8pruned_BoostedH_Pt700toInf_JetMassCut.eps", 0,  0.95);

//   // CA pruned vs kT subjets
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets",
//                "mindRSubjet1Bhadron_CA8_BoostedH_Pt300to500_JetMass_pruned_vs_kT.eps", 0, 0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets",
//                "mindRSubjet2Bhadron_CA8_BoostedH_Pt300to500_JetMass_pruned_vs_kT.eps", 0,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets",
//                "mindRSubjet1Bhadron_CA8_BoostedH_Pt700toInf_JetMass_pruned_vs_kT.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets",
//                "mindRSubjet2Bhadron_CA8_BoostedH_Pt700toInf_JetMass_pruned_vs_kT.eps", 0,  0.95);

//   // CA pruned vs filtered subjets
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjet1Bhadron_CA8_BoostedH_Pt300to500_JetMass_pruned_vs_filtered.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjet2Bhadron_CA8_BoostedH_Pt300to500_JetMass_pruned_vs_filtered.eps", 0,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjet1Bhadron_CA8_BoostedH_Pt700toInf_JetMass_pruned_vs_filtered.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjet2Bhadron_CA8_BoostedH_Pt700toInf_JetMass_pruned_vs_filtered.eps", 0,  0.95);

  // CA pruned vs filtered vs kT subjets
//   // 300<pT<500 GeV
//   overlay1D_3_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                                  "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                                  "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                                  "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                                  300, 500, 300, 500, 300, 500, 1, 0, 0.5, 0, 0.8, "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{300<p_{T}<500 GeV/c, 75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                                  "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets", "Filtered subjets",
//                                  "mindRSubjet1Bhadron_CA8_BoostedH_Pt300to500_JetMass.eps", 0,  0.95);
// 
//   overlay1D_3_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                                  "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                                  "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                                  "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                                  300, 500, 300, 500, 300, 500, 1, 0, 0.5, 0, 0.8, "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{300<p_{T}<500 GeV/c, 75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                                  "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets", "Filtered subjets",
//                                  "mindRSubjet2Bhadron_CA8_BoostedH_Pt300to500_JetMass.eps", 0,  0.95);
// 
//   // pT>700 GeV
//   overlay1D_3_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                                  "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                                  "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                                  "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                                   700, 1100, 700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8, "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{p_{T}>700 GeV/c, 75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                                  "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets", "Filtered subjets",
//                                  "mindRSubjet1Bhadron_CA8_BoostedH_Pt700toInf_JetMass.eps", 0,  0.95);
// 
//   overlay1D_3_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                                  "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                                  "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassKtSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                                  "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                                   700, 1100, 700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8, "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{p_{T}>700 GeV/c, 75<m_{jet}<135 GeV/c^{2} (pruned)}",
//                                   "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "Pruned subjets", "k_{T} subjets", "Filtered subjets",
//                                   "mindRSubjet2Bhadron_CA8_BoostedH_Pt700toInf_JetMass.eps", 0,  0.95);

//   // Pruned subjets CA vs AK
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "CA pruned subjets", "AK pruned subjets",
//                "mindRSubjet1Bhadron_BoostedH_Pt300to500_JetMass_pruned_CA8_vs_AK8.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "CA pruned subjets", "AK pruned subjets",
//                "mindRSubjet2Bhadron_BoostedH_Pt300to500_JetMass_pruned_CA8_vs_AK8.eps", 0,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass", "jetAnalyzerPrunedJetMass/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "CA pruned subjets", "AK pruned subjets",
//                "mindRSubjet1Bhadron_BoostedH_Pt700toInf_JetMass_pruned_CA8_vs_AK8.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass", "jetAnalyzerPrunedJetMass/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "CA pruned subjets", "AK pruned subjets",
//                "mindRSubjet2Bhadron_BoostedH_Pt700toInf_JetMass_pruned_CA8_vs_AK8.eps", 0,  0.95);


  // min dR(subjet,Bhadron) to the same b hadron
  // CA pruned subjets
//   // 300<pT<500 GeV
//   overlay1D_2_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{300<p_{T}<500 GeV/c, Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "75<m_{jet}<135 GeV/c^{2} (pruned)",
//                "mindRSubjetSameBhadron_CA8pruned_BoostedH_Pt300to500_JetMassCut.eps", 1,  0.95);
// 
//   // pT>700 GeV
//   overlay1D_2_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{H(120)#rightarrowb#bar{b}, CA R=0.8, #DeltaR(H,jet)<0.5}{p_{T}>700 GeV/c, Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "75<m_{jet}<135 GeV/c^{2} (pruned)",
//                "mindRSubjetSameBhadron_CA8pruned_BoostedH_Pt700toInf_JetMassCut.eps", 1,  0.95);

//   // CA pruned vs filtered subjets
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, -0.5, 1.5, 1E-2, 1E2,
//                "CA R=0.8, 300<p_{T}<500 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "Subjets matched to the same b hadron?", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjetSameBhadron_CA8_BoostedH_Pt300to500_JetMass_pruned_vs_filtered.eps", 1,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root", "output_files_v2/BprimeBprimeToBHBHinc_M-1500_HiggsTagging_dRsubjetBhadron.root",
//                "jetAnalyzerCAPrunedJetMass/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass", "jetAnalyzerCAPrunedJetMassFilteredSub/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, -0.5, 1.5, 1E-2, 1E2,
//                "CA R=0.8, p_{T}>700 GeV, #DeltaR(H,jet)<0.5, 75<m<135 GeV (pruned)", "Subjets matched to the same b hadron?", "Relative fraction", "Pruned subjets", "Filtered subjets",
//                "mindRSubjetSameBhadron_CA8_BoostedH_Pt700toInf_JetMass_pruned_vs_filtered.eps", 1,  0.95);


//   // min dR(subjet,Bhadron) for gluon splitting b jets
//   // CA pruned subjets
//   // 300<pT<500 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, pruned subjets", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet1Bhadron_bGSP_CA8pruned_BoostedH_Pt300to500_JetMassCut.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, 300<p_{T}<500 GeV, pruned subjets", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet2Bhadron_bGSP_CA8pruned_BoostedH_Pt300to500_JetMassCut.eps", 0,  0.95);
//
//   // pT>700 GeV
//   overlay1D_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, pruned subjets", "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet1Bhadron_bGSP_CA8pruned_BoostedH_Pt700toInf_JetMassCut.eps", 0,  0.95);
//
//   overlay1D_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadron_jetFlavor.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, 0, 0.5, 0, 0.8,
//                "CA R=0.8, p_{T}>700 GeV, pruned subjets", "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "No m cut", "75<m<135 GeV (pruned)",
//                "mindRSubjet2Bhadron_bGSP_CA8pruned_BoostedH_Pt700toInf_JetMassCut.eps", 0,  0.95);

  // min dR(subjet,Bhadron) to the same b hadron for gluon splitting b jets
  // CA pruned subjets
//   // 300<pT<500 GeV
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                300, 500, 300, 500, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, 300<p_{T}<500 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "75<m_{jet}<135 GeV/c^{2} (pruned)",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt300to500_JetMassCut.eps", 1,  0.95);
// 
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_SubJetMinCSVL",
//                300, 500, 300, 500, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, 300<p_{T}<500 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "+ subjet CSVL",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt300to500_SubJetCSVL.eps", 1,  0.95);
// 
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass_SubJetMinCSVL",
//                300, 500, 300, 500, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, 300<p_{T}<500 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "#splitline{75<m_{jet}<135 GeV/c^{2} (pruned)}{+ subjet CSVL}",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt300to500_JetMassCut_SubJetCSVL.eps", 1,  0.95);
// 
//   // pT>700 GeV
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass",
//                700, 1100, 700, 1100, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, p_{T}>700 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "75<m_{jet}<135 GeV/c^{2} (pruned)",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt700toInf_JetMassCut.eps", 1,  0.95);
// 
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_SubJetMinCSVL",
//                700, 1100, 700, 1100, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, p_{T}>700 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "+ subjet CSVL",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt700toInf_SubJetCSVL.eps", 1,  0.95);
// 
//   overlay1D_2_Xrange_Yprojection("output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root", "output_files_v2/QCDPythia6_HiggsTagging_dRsubjetBhadronExtra_jetFlavor_CA8only.root",
//                "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched", "jetAnalyzerCAPrunedJetMass_bQuarksGSP/h2_JetPt_SameMatchedBhadron_BosonMatched_JetMass_SubJetMinCSVL",
//                700, 1100, 700, 1100, 1, -0.5, 1.5, 1E-2, 1E2,
//                "#splitline{QCD g#rightarrowb#bar{b}, CA R=0.8, p_{T}>700 GeV/c}{Pruned subjets}", "Subjets matched to the same b hadron?", "Relative fraction", "No m_{jet} cut", "#splitline{75<m_{jet}<135 GeV/c^{2} (pruned)}{+ subjet CSVL}",
//                "mindRSubjetSameBhadron_QCD_bGSP_CA8pruned_Pt700toInf_JetMassCut_SubJetCSVL.eps", 1,  0.95);
  
  // AK pruned subjets (H->bb, g->bb, top)
  // 300<pT<500 GeV
  overlay1D_3_Xrange_Yprojection("ROOT_files_AK8/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
				 "ROOT_files_AK8/QCDPythia6_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "ROOT_files_AK8/TprimeToTHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
				 "jetAnalyzerFatJets_PrunedSubjets_bJetsGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
                                 300, 500, 300, 500, 300, 500, 1, 0, 1.0, 0, 0.8, "#splitline{AK R=0.8, 300<p_{T}<500 GeV/c}{75<m_{pruned}<135 GeV/c^{2}}",
                                 "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "H(120)#rightarrowb#bar{b}", "g#rightarrowb#bar{b} splitting", "Hadronic top",
                                 "mindRSubjet1Bhadron_AK8_Pt300to500_JetMass.eps", 0,  0.95);

  overlay1D_3_Xrange_Yprojection("ROOT_files_AK8/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
				 "ROOT_files_AK8/QCDPythia6_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "ROOT_files_AK8/TprimeToTHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
				 "jetAnalyzerFatJets_PrunedSubjets_bJetsGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
                                 300, 500, 300, 500, 300, 500, 1, 0, 1.0, 0, 0.8, "#splitline{AK R=0.8, 300<p_{T}<500 GeV/c}{75<m_{pruned}<135 GeV/c^{2}}",
                                 "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "H(120)#rightarrowb#bar{b}", "g#rightarrowb#bar{b} splitting", "Hadronic top",
                                 "mindRSubjet2Bhadron_AK8_Pt300to500_JetMass.eps", 0,  0.95);

  // pT>700 GeV
  overlay1D_3_Xrange_Yprojection("ROOT_files_AK8/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
				 "ROOT_files_AK8/QCDPythia6_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "ROOT_files_AK8/TprimeToTHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
				 "jetAnalyzerFatJets_PrunedSubjets_bJetsGSP/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet1Bhadron_BosonMatched_JetMass",
                                 700, 1100, 700, 1100, 700, 1100, 1, 0, 1.0, 0, 0.8, "#splitline{AK R=0.8, p_{T}>700 GeV/c}{75<m_{pruned}<135 GeV/c^{2}}",
                                 "min #DeltaR(subjet_{1},b hadron)", "Relative fraction", "H(120)#rightarrowb#bar{b}", "g#rightarrowb#bar{b} splitting", "Hadronic top",
                                 "mindRSubjet1Bhadron_AK8_Pt700toInf_JetMass.eps", 0,  0.95);

  overlay1D_3_Xrange_Yprojection("ROOT_files_AK8/BprimeBprimeToBHBHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
				 "ROOT_files_AK8/QCDPythia6_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "ROOT_files_AK8/TprimeToTHinc_M-1000_HiggsTagging_ExplicitJTA_SVClustering_PATTuple_v3.root",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
				 "jetAnalyzerFatJets_PrunedSubjets_bJetsGSP/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
                                 "jetAnalyzerFatJets_PrunedSubjets/h2_JetPt_mindRSubjet2Bhadron_BosonMatched_JetMass",
                                 700, 1100, 700, 1100, 700, 1100, 1, 0, 1.0, 0, 0.8, "#splitline{AK R=0.8, p_{T}>700 GeV/c}{75<m_{pruned}<135 GeV/c^{2}}",
                                 "min #DeltaR(subjet_{2},b hadron)", "Relative fraction", "H(120)#rightarrowb#bar{b}", "g#rightarrowb#bar{b} splitting", "Hadronic top",
                                 "mindRSubjet2Bhadron_AK8_Pt700toInf_JetMass.eps", 0,  0.95);
}